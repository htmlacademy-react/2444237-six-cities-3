import{C as n,u as N,a as v,b as p,s as w,c as b,r as S,A as y,j as s,N as A,d as u,H as C,e as _,f as M,l as z}from"./index-e5014da0.js";import{z as o,u as E,a as L}from"./zod-ed979502.js";const k="_error_1rcfe_1",R="_error_text_1rcfe_8",i={error:k,error_text:R},q=()=>{if(!n.length)return null;const e=Math.floor(Math.random()*n.length);return n[e]},D=o.object({email:o.string().email("Некорректный email"),password:o.string().min(2,"Пароль минимум 2 символа").refine(e=>/[a-zA-Z]/.test(e),{message:"Пароль должен содержать хотя бы одну букву"}).refine(e=>/\d/.test(e),{message:"Пароль должен содержать хотя бы одну цифру"})}),F=()=>{var m,d;const{register:e,handleSubmit:g,formState:{errors:a}}=E({resolver:L(D),defaultValues:{email:"",password:""}}),l=N(),h=v(),{isLoading:c}=p(w),x=p(b),t=S.useMemo(()=>q(),[]);if(x===y.Auth)return s.jsx(A,{to:u.Main});const f=()=>{t&&(l(M(t)),h(u.Main))},j=r=>{l(z(r))};return s.jsxs("div",{className:"page page--gray page--login",children:[s.jsx(C,{withUserNav:!1}),s.jsx("main",{className:"page__main page__main--login",children:s.jsxs("div",{className:"page__login-container container",children:[s.jsxs("section",{className:"login",children:[s.jsx("h1",{className:"login__title",children:"Sign in"}),s.jsxs("form",{className:"login__form form",action:"#",method:"post",onSubmit:r=>{r.preventDefault(),g(j)()},children:[s.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[s.jsx("label",{className:"visually-hidden",children:"E-mail"}),s.jsx("input",{className:_("login__input form__input",{[i.error]:!!a.email}),type:"email",placeholder:"Email",required:!0,...e("email")}),a.email&&s.jsx("div",{className:i.error_text,children:(m=a.email)==null?void 0:m.message})]}),s.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[s.jsx("label",{className:"visually-hidden",children:"Password"}),s.jsx("input",{className:_("login__input form__input",{[i.error]:!!a.password}),type:"password",placeholder:"Password",required:!0,...e("password")}),a.password&&s.jsx("div",{className:i.error_text,children:(d=a.password)==null?void 0:d.message})]}),s.jsx("button",{className:"login__submit form__submit button",type:"submit",disabled:c,children:c?"Loading...":"Sign in"})]})]}),s.jsx("section",{className:"locations locations--login locations--current",children:s.jsx("div",{className:"locations__item",children:s.jsx("a",{className:"locations__item-link",href:"#",onClick:f,children:s.jsx("span",{children:t})})})})]})})]})};export{F as default};
