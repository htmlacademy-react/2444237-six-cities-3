import{C as n,u as j,a as N,b as u,s as v,c as w,A as S,j as s,N as b,d as p,r as y,H as A,e as _,f as C,l as z}from"./index-30148d7f.js";import{z as o,u as M,a as E}from"./zod-48e974a1.js";const L="_error_1rcfe_1",k="_error_text_1rcfe_8",t={error:L,error_text:k},R=()=>{if(!n.length)return null;const e=Math.floor(Math.random()*n.length);return n[e]},q=o.object({email:o.string().email("Некорректный email"),password:o.string().min(2,"Пароль минимум 2 символа").refine(e=>/[a-zA-Z]/.test(e),{message:"Пароль должен содержать хотя бы одну букву"}).refine(e=>/\d/.test(e),{message:"Пароль должен содержать хотя бы одну цифру"})}),F=()=>{var m,d;const{register:e,handleSubmit:g,formState:{errors:a}}=M({resolver:E(q),defaultValues:{email:"",password:""}}),l=j(),h=N(),{isLoading:c}=u(v);if(u(w)===S.Auth)return s.jsx(b,{to:p.Main});const i=y.useMemo(()=>R(),[]),x=()=>{i&&(l(C(i)),h(p.Main))},f=r=>{l(z(r))};return s.jsxs("div",{className:"page page--gray page--login",children:[s.jsx(A,{withUserNav:!1}),s.jsx("main",{className:"page__main page__main--login",children:s.jsxs("div",{className:"page__login-container container",children:[s.jsxs("section",{className:"login",children:[s.jsx("h1",{className:"login__title",children:"Sign in"}),s.jsxs("form",{className:"login__form form",action:"#",method:"post",onSubmit:r=>{r.preventDefault(),g(f)()},children:[s.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[s.jsx("label",{className:"visually-hidden",children:"E-mail"}),s.jsx("input",{className:_("login__input form__input",{[t.error]:!!a.email}),type:"email",placeholder:"Email",required:!0,...e("email")}),a.email&&s.jsx("div",{className:t.error_text,children:(m=a.email)==null?void 0:m.message})]}),s.jsxs("div",{className:"login__input-wrapper form__input-wrapper",children:[s.jsx("label",{className:"visually-hidden",children:"Password"}),s.jsx("input",{className:_("login__input form__input",{[t.error]:!!a.password}),type:"password",placeholder:"Password",required:!0,...e("password")}),a.password&&s.jsx("div",{className:t.error_text,children:(d=a.password)==null?void 0:d.message})]}),s.jsx("button",{className:"login__submit form__submit button",type:"submit",disabled:c,children:c?"Loading...":"Sign in"})]})]}),s.jsx("section",{className:"locations locations--login locations--current",children:s.jsx("div",{className:"locations__item",children:s.jsx("a",{className:"locations__item-link",href:"#",onClick:x,children:s.jsx("span",{children:i})})})})]})})]})};export{F as default};
